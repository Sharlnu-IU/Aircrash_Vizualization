<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Aircrash Explorer ‚Äî Summary</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    body {
      background: #000;
      color: #e60000;
      font-family: 'Creepster', cursive;
      overflow: hidden;
      overflow-y: auto;
      position: relative;
    }
    /* Blood-splatter overlay */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('/static/spatter.png') center/cover no-repeat;
      opacity: 0.15;
      pointer-events: none;
      z-index: 1;
    }
    h1, h2 {
      position: relative;
      text-shadow: 2px 2px 4px #330000;
      animation: flicker 3s infinite;
      z-index: 2;
    }
    @keyframes flicker {
      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { text-shadow: 2px 2px 4px #330000; opacity: 1; }
      20%, 24%, 55% { text-shadow: none; opacity: 0.8; }
    }
    .container {
      background: rgba(0, 0, 0, 0.85);
      border: 3px solid #e60000;
      padding: 20px;
      margin-top: var(--header-h);
      z-index: 2;
      position: relative;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    .summary-block {
      margin-bottom: 2em;
      padding: 1em;
      border-left: 6px solid #e60000;
      animation: drip 5s infinite ease-in;
    }
    @keyframes drip {
      0% { box-shadow: inset -10px 0 0 #e60000; }
      50% { box-shadow: inset -10px 0 0 transparent; }
      100% { box-shadow: inset -10px 0 0 #e60000; }
    }
    a {
      color: #e60000;
      transition: color 0.5s;
    }
    a:hover {
      color: #ff1a1a;
      text-shadow: 0 0 8px #ff1a1a;
      animation: linkFlicker 1.5s infinite;
    }
    @keyframes linkFlicker {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0.6; }
    }
  </style>
</head>

<body>
  <header id="site-header">
    <div class="header-inner">
      <h1>Aircrash Explorer</h1>
      <div class="header-controls">
        <button id="theme-toggle">üåô</button>
        <nav>
          <a href="{{ url_for('index') }}">Home</a>
          <a href="{{ url_for('digdeep') }}">Deep Dive</a>
          <a href="{{ url_for('summary') }}">Summary</a>
          </nav>
      </div>
    </div>
  </header>

  <div class="container">
    <hr style="border-color:#e60000;">
    <h2>Visualization Summaries</h2>

    <!-- Pilot-Induced Summaries -->
    <div class="summary-block">
      <h3>Pilot-Induced Crashes by State</h3>
      <p>Alaska tops the list with nearly 200 pilot-induced crashes, followed by Texas and Florida at around 120‚Äì140 each. Pennsylvania and California record 60‚Äì80, while most other states fall below 50 incidents.</p>
    </div>

    <div class="summary-block">
      <h3>Pilot-Induced Crash Hot-Spots</h3>
      <p>High-density clusters appear in the Northeast and Southeast U.S., notably around major flight corridors. The Midwest and California coasts show secondary hotspots, and Alaska presents a tight but intense cluster in the north.</p>
    </div>

    <div class="summary-block">
      <h3>Pilot Qualification Breakdown (Pilot-Induced)</h3>
      <p>Among pilot-induced crashes, the majority (~850) held current qualifications. ‚ÄúUnknown‚Äù status accounts for ~316, while lapses like missing flight reviews or medical certificates each contribute fewer than 50 crashes.</p>
    </div>

    <div class="summary-block">
      <h3>Pilot Age Distribution (Pilot-Induced)</h3>
      <p>Pilot ages span from about 15 to 85 years, peaking between 50 and 60 where counts exceed 300. Crashes taper sharply after age 65, and pilots under 30 represent comparatively few incidents. The KDE curve confirms a strong mode near age 55 with a right-skewed tail into older ages.</p>
    </div>

    <!-- Unknown-Cause Summaries -->
    <div class="summary-block">
      <h3>Unknown-Cause Crashes by State</h3>
      <p>Florida leads with ~45 unknown-cause crashes, followed by Texas and California (~30 each). Alaska, Colorado, and Georgia each see 15‚Äì20, while most states report under 10 or none at all.</p>
    </div>

    <div class="summary-block">
      <h3>Unknown-Cause Crash Hot-Spots</h3>
      <p>The Southeast (Florida, Georgia, Carolinas) and Northeast corridors form the densest clusters. Secondary clusters emerge in Texas, the Midwest, and along California‚Äôs coast, with Alaska showing a small northern cluster.</p>
    </div>

    <div class="summary-block">
      <h3>Unknown-Cause Crashes by Aircraft Make</h3>
      <p>Cessna dominates with 96 crashes, Piper follows at 64, then Beech at 42. Amateur-built frames account for 27. Legacy manufacturers like Boeing (9), Mooney (8), and Canadair (7) contribute fewer incidents.</p>
    </div>

    <div class="summary-block">
      <h3>Age Distribution (Unknown-Cause)</h3>
      <p>Pilot ages range 15‚Äì90, peaking at 50‚Äì60 (‚âà100 crashes), then 40‚Äì50 (‚âà75), and 60‚Äì70 (‚âà60). Pilots under 30 account for 40‚Äì50 crashes; very few are under 20 or over 80. KDE highlights a mode near age 55.</p>
    </div>

  </div>

  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById('theme-toggle');
      let theme = localStorage.getItem('theme') || 'dark';
      if (theme === 'dark') {
        document.body.classList.add('dark-mode');
        toggle.textContent = '‚òÄÔ∏è';
      } else {
        document.body.classList.remove('dark-mode');
        toggle.textContent = 'üåô';
      }
      toggle.addEventListener('click', () => {
        const isDark = document.body.classList.toggle('dark-mode');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        toggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
      });
    });
  </script>
</body>

</html>
